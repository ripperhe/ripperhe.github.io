---
layout: post
title:  ä»¿å¾®åšå›¾ç‰‡æ·»åŠ æ ‡ç­¾
categories: iOS
description: å›¾ç‰‡æ·»åŠ æ ‡ç­¾
keywords: iOS, weibo, imageView
---

å…¬å¸çš„é¡¹ç›®éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œå†™äº†ä¹‹åŽé¡ºä¾¿æå–å‡ºæ¥å†™äº†ä¸€ä¸ªdemoï¼Œç®€å•å®žçŽ°å›¾ç‰‡æ·»åŠ æ ‡ç­¾ï¼Œæš‚æ—¶æ²¡æœ‰åŽ»å¤„ç†å›¾ç‰‡å®½åº¦å°äºŽæ ‡ç­¾é•¿åº¦çš„æƒ…å†µã€‚			

![](http://upload-images.jianshu.io/upload_images/939125-2244ffe4154ccd62.gif?imageMogr2/auto-orient/strip)

ç±»ä¼¼å¾®åšçš„å›¾ç‰‡æ·»åŠ æ ‡ç­¾åˆ†ä¸ºä¸¤ç§çŠ¶æ€ï¼Œä¸€ç§æ˜¯ç¼–è¾‘æ ‡ç­¾çŠ¶æ€ï¼Œå¦ä¸€ç§æ˜¯å¾®åšå‘å‡ºä¹‹åŽæµè§ˆå…¶ä»–äººæ·»åŠ çš„æ ‡ç­¾çš„æµè§ˆçŠ¶æ€ã€‚

### 1.ç¼–è¾‘çŠ¶æ€

æ·»åŠ æ ‡ç­¾æ‹–åŠ¨äº¤äº’ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªç‚¹ï¼š

* æ‹–åŠ¨è¾¹ç•ŒæŽ§åˆ¶
* è¾¹ç•Œæ ‡ç­¾æ–¹å‘ç¿»è½¬
* è½»è§¦æ˜¾ç¤ºä¸Žéšè—åˆ é™¤æŒ‰é’®
* é•¿æŒ‰ç¼–è¾‘æ ‡ç­¾
* é—ªçƒåŠ¨ç”»

##### æ‹–åŠ¨è¾¹ç•ŒæŽ§åˆ¶
æ ¹æ®åœ†ç‚¹çš„ä½ç½®è¿›è¡Œé™åˆ¶æ‹–åŠ¨

##### è¾¹ç•Œæ ‡ç­¾æ–¹å‘ç¿»è½¬
åœ¨æ‹–åŠ¨æ‰‹åŠ¿çŠ¶æ€ä¸º`UIGestureRecognizerStateEnded`æ—¶å€™ï¼Œæ£€æµ‹æ˜¯å¦èƒ½å¤Ÿæ”¾ä¸‹åˆ é™¤æŒ‰é’®ï¼Œä¸èƒ½åˆ™è¿›è¡Œåå‘

##### è½»è§¦æ˜¾ç¤ºä¸Žéšè—åˆ é™¤æŒ‰é’®
é»˜è®¤è½»è§¦æ ‡ç­¾æ˜¾ç¤ºå’Œéšè—åˆ é™¤æŒ‰é’®ï¼Œæ­¤æ—¶é‡æ–°å¸ƒå±€æ ‡ç­¾å­æŽ§ä»¶ä½ç½®ï¼›åœ¨æ‹–åŠ¨æ‰‹åŠ¿å¼€å§‹çš„æ—¶å€™ï¼Œéšè—åˆ é™¤æŒ‰é’®

##### é•¿æŒ‰ç¼–è¾‘æ ‡ç­¾
éµå®ˆä»£ç†ï¼Œå³å¯èŽ·å–åˆ°å½“å‰æ ‡ç­¾æ•°æ®ï¼Œè¿›è¡Œä¿®æ”¹

##### é—ªçƒåŠ¨ç”»
åˆ©ç”¨ä¸€ä¸ªå¸§åŠ¨ç”»ç®€å•å®žçŽ°é—ªçƒï¼Œæ ¹æ®ä¼ å…¥çš„`repeatCount`å†³å®šåŠ¨ç”»é—ªçƒå¤šä¹…

### 2.é¢„è§ˆçŠ¶æ€

ä¾›ä»–äººæµè§ˆï¼Œä¸å¯ç¼–è¾‘ï¼Œåˆ©ç”¨ä»£ç†æ¨¡å¼å›žè°ƒæ ‡ç­¾çš„è½»è§¦å’Œé•¿æŒ‰æ‰‹åŠ¿ã€‚

### 3.ä»£ç å®žçŽ°
ä¸»è¦æœ‰ä¸‰ä¸ªç±»

* ZYTagImageView
* ZYTagView
* ZYTagInfo

**ZYTagImageView** ç»§æ‰¿è‡ª`UIImageView`ä¸»è¦å¤„ç†å…¶ä¸Šçš„æ‰€æœ‰æ ‡ç­¾

**ZYTagView** ä¸ºæ ‡ç­¾è§†å›¾ï¼Œå¤„ç†æ ‡ç­¾çš„å„ç§æ‰‹åŠ¿ï¼Œå¹¶åˆ©ç”¨ä»£ç†è¿›è¡Œå›žè°ƒ

**ZYTagInfo** å­˜å‚¨æ ‡ç­¾çš„ä¿¡æ¯ï¼Œå¯å­˜å‚¨å…·ä½“ä½ç½®ä»¥åŠå½“å‰ç‚¹åœ¨çˆ¶è§†å›¾çš„ä½ç½®æ¯”ä¾‹ï¼ˆå»ºè®®ä½¿ç”¨ä½ç½®æ¯”ä¾‹ï¼Œåœ¨ä¸åŒå°ºå¯¸çš„å±å¹•ä¸Šæ‰èƒ½æ­£å¸¸æ˜¾ç¤ºï¼‰

### 4.ç®€å•ä½¿ç”¨
`#import "ZYTagImageView.h"`å³å¯ï¼Œè‡ªå®šä¹‰æ‰‹åŠ¿å¤„ç†éœ€éµå®ˆ`ZYTagImageViewDelegate`ï¼Œå®žçŽ°ä»¥ä¸‹ä»£ç†æ–¹æ³•ï¼š

```objc
/** è½»è§¦imageViewç©ºç™½åŒºåŸŸ */
- (void)tagImageView:(ZYTagImageView *)tagImageView activeTapGesture:(UITapGestureRecognizer *)tapGesture;
/** è½»è§¦æ ‡ç­¾ */
- (void)tagImageView:(ZYTagImageView *)tagImageView tagViewActiveTapGesture:(ZYTagView *)tagView;
/** é•¿æŒ‰æ ‡ç­¾ */
- (void)tagImageView:(ZYTagImageView *)tagImageView tagViewActiveLongPressGesture:(ZYTagView *)tagView;

```
---
âœ¨å…·ä½“ç»†èŠ‚å¯åˆ°GitHubä¸‹è½½demoæŸ¥çœ‹ã€‚[GitHubåœ°å€ ðŸ˜](https://github.com/ripperhe/ZYTagView.git)

âœ¨å¦‚æžœæœ‰ç”¨ï¼Œè¿˜æœ›æœ‹å‹èƒ½ç»™ä¸ªstarï¼Œè°¢è°¢ã€‚

> * æœ¬æ–‡æ°¸ä¹…æ›´æ–°é“¾æŽ¥ï¼š<https://ripperhe.com/2016/10/03/ios-weibo-image-tag>
> * ä½œè€…ï¼š[ripperhe](https://github.com/ripperhe)